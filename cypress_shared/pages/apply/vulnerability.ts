import Page from '../page'
import { Person } from '../../../server/@types/shared'

export default class VulnerabilityPage extends Page {
  constructor(person: Person) {
    super('Vulnerability')
    cy.get('.govuk-form-group').contains(`Are you aware that ${person.name} is vulnerable to exploitation from others?`)
    cy.get('.govuk-form-group').contains(
      `Is there any evidence or expectation that ${person.name} may groom, radicalise or exploit others?`,
    )
  }

  completeForm(): void {
    this.checkRadioByNameAndValue('exploitable', 'no')
    this.checkRadioByNameAndValue('exploitOthers', 'yes')
    this.completeTextArea('exploitOthersDetail', 'Some details here')
  }
}
