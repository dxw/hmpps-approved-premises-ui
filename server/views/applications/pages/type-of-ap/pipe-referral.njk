{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}

{% extends "../layout.njk" %}

{% block questions %}

  {% set opdPathwayDateHTML %}
  {{
    applyDateInput(
        {
          fieldName: "opdPathwayDate",
          fieldset: {
            legend: {
              text: page.questions.opdPathwayDate
            }
          },
          hint: {
            text: "For example, 27 3 2007"
          },
          items: dateFieldValues('opdPathwayDate', errors)
        },
        fetchContext()
      )
  }}
  {% endset -%}

  {{ govukRadios({
    idPrefix: "opdPathway",
    name: "opdPathway",
    errorMessage: errors.opdPathway,
    fieldset: {
      legend: {
        text: page.title,
        isPageHeading: true,
        classes: "govuk-fieldset__legend--l"
      }
    },
    items: [
      {
        value: "yes",
        text: "Yes",
        checked: opdPathway == 'yes',
        conditional: {
          html: opdPathwayDateHTML
        }
      },
      {
        text: "No",
        value: "no",
        checked: opdPathway == 'no'
      }
    ]
    }) }}

{% endblock %}
