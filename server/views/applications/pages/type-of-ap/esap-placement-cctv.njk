{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}

{% extends "../layout.njk" %}

{% block questions %}

  <h1 class="govuk-heading-l">{{ page.title }}</h1>

  {{ govukCheckboxes({
      name: "cctvHistory",
      errorMessage: errors.cctvHistory,
      fieldset: {
        legend: {
          text: page.questions.cctvHistory,
          classes: "govuk-fieldset__legend--m"
        }
      },
      items: page.cctvHistoryItems()
    }) }}

  {% set yesDetails %}
  {{
    applyTextarea(
      {
        fieldName: "cctvIntelligenceDetails",
        type: "textarea",
        spellcheck: false,
        label: {
          text: page.questions.cctvIntelligenceDetails
        }
      },
      fetchContext()
    )
  }}
  {% endset -%}
      {
        text: "No",
        value: "no",
        checked: cctvIntelligence == 'no'
      }
    ]
    }) }}

  <h2 class="govuk-heading-s">{{ page.questions.cctvNotes }}</h2>

  {{
    applyTextarea(
      {
        fieldName: "cctvNotes"
      },
      fetchContext()
    )
  }}

{% endblock %}
