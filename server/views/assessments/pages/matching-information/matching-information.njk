{% extends "../layout.njk" %}

{% block questions %}

  <h1 class="govuk-heading-l">{{page.title}}</h1>
  <p>Please specify requirements for matching the person to a bed within an Approved Premises (AP).</p>

  {{ formPageRadios({
      fieldName: "apType",
      fieldset: {
        legend: {
          text: page.apTypeQuestion
        }
      },
      items: convertKeyValuePairToRadioItems(page.apTypes, page.apType)
    },fetchContext()) }}

  {{ formPageRadios({
      fieldName: "apGender",
      fieldset: {
        legend: {
          text: page.apGenderQuestion
        }
      },
      items: FormUtils.convertArrayToRadioItems(page.apGenders, page.apGender)
    },fetchContext()) }}

  {{
    formPageCheckboxes(
      {
        fieldName: "mentalHealthSupport",
        fieldset: {
          legend: {
            text: page.mentalHealthSupport.question,
            classes: "govuk-fieldset__legend--m"
          }
        },
        hint: {
          text: page.mentalHealthSupport.hint
        },
      items: [
      {
        value: "1",
        text: page.mentalHealthSupport.label,
        checked: page.mentalHealthSupport.value === '1'
      }]
      }, 
      fetchContext()
    )
  }}

  <h2 class="govuk-heading-m">Specify placement requirements</h2>

  {{placementRequirementsTable(page.placementRequirementTableHeadings, page.placementRequirements, page.placementRequirementPreferences, page.body) | safe}}

  <h2 class="govuk-heading-m">Provide relevant offence and risk information</h2>

  {{placementRequirementsTable(page.relevantInformationTableHeadings, page.offenceAndRiskInformationKeys, page.offenceAndRiskInformationRelevance, page.body) | safe}}

{% endblock %}
